!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.r(e);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._element=null,e&&(this._element=document.createElement(e))}var e,n,i;return e=t,(n=[{key:"add",value:function(t){this._element.appendChild(t.getElement())}},{key:"getElement",value:function(){return this._element}}])&&o(e.prototype,n),i&&o(e,i),t}();function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,t);var e,n,o,i=a(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this))._config=t,e._init(),e}return e=r,(n=[{key:"setOnload",value:function(t){this._element.onload=t}},{key:"_init",value:function(){var t=this._element=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",this._config.css)}}])&&c(e.prototype,n),o&&c(e,o),r}(i);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=b(t);if(e){var i=b(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(r,t);var e,n,o,i=_(r);function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n=i.call(this,t),e&&n.addClass(e),n}return e=r,(n=[{key:"addText",value:function(t){this._element.innerText=t}},{key:"setAttribute",value:function(t,e){this._element.setAttribute(t,e)}},{key:"addClass",value:function(t){-1===this._element.className.split(" ").indexOf(t)&&this._element.classList.add(t)}},{key:"removeClass",value:function(t){-1!==this._element.className.split(" ").indexOf(t)&&this._element.classList.remove(t)}}])&&y(e.prototype,n),o&&y(e,o),r}(i);function v(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._hendlers=[],this._hendlersOnce=[]}var e,n,o;return e=t,(n=[{key:"add",value:function(t){this._hendlers.push(t)}},{key:"addOnce",value:function(t){this._hendlersOnce.push(t)}},{key:"dispatch",value:function(){for(var t=0;t<this._hendlers.length;t++)(0,this._hendlers[t])();for(;this._hendlersOnce.length>0;)this._hendlersOnce.pop()()}}])&&v(e.prototype,n),o&&v(e,o),t}();function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var w=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"CheckPosition",value:function(t){var e=window.innerHeight;return t>30&&t<e-60}}],(n=null)&&x(e.prototype,n),o&&x(e,o),t}();function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=C(t);if(e){var i=C(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return T(this,n)}}function T(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(r,t);var e,n,o,i=S(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,"div","comercialbox-trill")).onClick=new g,e._config=t,e._durationTrans=200,e._lookType=1,e._text=null,e._delayShortFull=e._config.delayShortFull,e._isFull=!1,e._init(),e}return e=r,(n=[{key:"dispatchClick",value:function(){this.onClick.dispatch()}},{key:"hide",value:function(){var t=this;this._lookType!==B.OF.ENUM&&(this._element.style.opasity="0",setTimeout((function(){t._element.style.display="none"}),this._durationTrans))}},{key:"show",value:function(){var t=this;this._lookType!==B.OF.ENUM&&(this._element.style.display="block",this._element.style.opasity="0",setTimeout((function(){t._element.style.opasity="1"}),40))}},{key:"_init",value:function(){var t=new m("img","comercialbox-trill-img");t.setAttribute("src",this._config.logo),this.add(t);var e=this._text=new m("p","comercialbox-trill-button");e.addText(this._config.buttonText),this.add(e),this._element.style.left=this._config.offsetLeft,this._element.style.bottom=this._config.offsetBottom,this._initClasses(),this._iniHandlers()}},{key:"_iniHandlers",value:function(){var t=this;this._element.addEventListener("click",(function(){t.onClick.dispatch()}))}},{key:"_initClasses",value:function(){var t=this._config.lookTrill;t===B.FULL.KEY?(this._lookType=B.FULL.ENUM,this._text.addClass("comerc_bigfz")):t===B.ONSCREEN.KEY?(this._lookType=B.ONSCREEN.ENUM,this._initScrollHandler()):t===B.ONTIME.KEY?(this._lookType=B.ONTIME.ENUM,this._startShowHide()):t===B.OF.KEY?(this._lookType=B.OF.ENUM,this._element.style.display="none"):(this._lookType=B.SHORT.ENUM,this.addClass("comerc_trillHoverClass"))}},{key:"_initScrollHandler",value:function(){var t=this;document.addEventListener("scroll",(function(){t._checkToSetFull()}))}},{key:"_checkToSetFull",value:function(){var t=this;this._isFull||w.CheckPosition(this._element.getBoundingClientRect().y)&&(this._text.addClass("comerc_bigfz"),this._isFull=!0,setTimeout((function(){t._text.removeClass("comerc_bigfz"),t._isFull=!1}),this._delayShortFull))}},{key:"_startShowHide",value:function(){console.log("ONTIME"),this._setFull()}},{key:"_setFull",value:function(){var t=this;this._text.addClass("comerc_bigfz"),this._isFull=!0,setTimeout((function(){t._setShort()}),this._delayShortFull)}},{key:"_setShort",value:function(){var t=this;this._text.removeClass("comerc_bigfz"),this._isFull=!1,setTimeout((function(){t._setFull()}),this._delayShortFull)}}])&&E(e.prototype,n),o&&E(e,o),r}(m),B={SHORT:{KEY:"short",ENUM:1},FULL:{KEY:"full",ENUM:2},ONSCREEN:{KEY:"fullOnScreen",ENUM:3},ONTIME:{KEY:"fullOnTime",ENUM:4},OF:{KEY:"of",ENUM:5}};function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=U(t);if(e){var i=U(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return M(this,n)}}function M(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(r,t);var e,n,o,i=H(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,"div","comercialbox-container-head"))._config=t,e._init(),e}return e=r,(n=[{key:"_init",value:function(){this._initLogo(),this._initLine(),this._initTitle()}},{key:"_initTitle",value:function(){var t=new m("h4","comercialbox-container-head-title");t.addText(CONFIG.headerText),this.add(t)}},{key:"_initLine",value:function(){var t=new m("p","comercialbox-container-head-line");this.add(t)}},{key:"_initLogo",value:function(){var t=new m("div","comercialbox-container-head-logo"),e=new m("img","comercialbox-container-head-logo-pic");e.setAttribute("src",this._config.logo),t.add(e),this.add(t)}}])&&j(e.prototype,n),o&&j(e,o),r}(m);function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Y(t);if(e){var i=Y(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return K(this,n)}}function K(t,e){return!e||"object"!==F(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(r,t);var e,n,o,i=A(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,"li","comercialbox-container-goods-item"))._params=t,e._init(),e}return e=r,(n=[{key:"_init",value:function(){this._initImg(),this._initContent()}},{key:"_initImg",value:function(){var t=new m("div","comercialbox-container-goods-item-img"),e=new m("img","comercialbox-container-goods-item-img-pic");e.setAttribute("src",this._params.img),t.add(e),this.add(t)}},{key:"_initContent",value:function(){var t=new m("div","comercialbox-container-goods-item-content"),e=this._createContentHeader(),n=this._createContentDesc();t.add(e),t.add(n),this.add(t)}},{key:"_createContentDesc",value:function(){var t=new m("div","comercialbox-container-goods-item-content-desc"),e=new m("div","comercialbox-container-goods-item-content-desc-subscribe"),n=new m("span","comercialbox-container-goods-item-content-desc-site");n.addText(this._params.site);var o=new m("span","comercialbox-container-goods-item-content-desc-motto");o.addText(this._params.motto);var i=new m("p","comercialbox-container-goods-item-content-desc-text");return i.addText(this._params.text),e.add(n),e.add(o),t.add(e),t.add(i),t}},{key:"_createContentHeader",value:function(){var t=new m("div","comercialbox-container-goods-item-content-header"),e=new m("p","comercialbox-container-goods-item-content-header-price");e.addText(this._params.price);var n=new m("p","comercialbox-container-goods-item-content-header-name");return n.addText(this._params.name),t.add(e),t.add(n),t}}])&&I(e.prototype,n),o&&I(e,o),r}(m);function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=V(t);if(e){var i=V(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Q(this,n)}}function Q(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(r,t);var e,n,o,i=J(r);function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=i.call(this,"ul","comercialbox-container-goods"))._height=e,n._config=t,n._init(),n}return e=r,(n=[{key:"_init",value:function(){this._element.style.maxHeight="".concat(this._height,"px");for(var t=this._config.goods,e=0;e<t.length;e++){var n=t[e],o=new W(n);this.add(o)}}}])&&G(e.prototype,n),o&&G(e,o),r}(m);function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function tt(t,e){return(tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ot(t);if(e){var i=ot(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return nt(this,n)}}function nt(t,e){return!e||"object"!==Z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var it=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}(r,t);var e,n,o,i=et(r);function r(t,e,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(o=i.call(this,"div","comercialbox-wrapper")).onClick=new g,o._config=t,o._height=null,o._durationTrans=200,o._heightHeader=65,o._containerWidth=e,o._containerHeight=n,o._maxWidth=parseInt(o._config.maxWidth),o._typeShow=o._config.showComercialContent===rt.TODOWN.world?rt.TODOWN.ENUM:rt.TOUP.ENUM,o._isAllShow=!1,o._init(),o}return e=r,(n=[{key:"dispatchClick",value:function(){this._isAllShow||this.onClick.dispatch()}},{key:"show",value:function(){var t=this,e=this._box.getElement();e.style.display="block",0!==this._height&&null!=this._height||(this._height=200),this._typeShow===rt.TODOWN.ENUM&&(this._element.style.height=this._height),e.style.height="0px",setTimeout((function(){e.style.height="".concat(t._height,"px")}),40)}},{key:"hide",value:function(){var t=this._box.getElement();t.style.height="0px",setTimeout((function(){t.style.display="none"}),this._durationTrans)}},{key:"setAllShow",value:function(){this.show(),this._isAllShow=!0}},{key:"_init",value:function(){this._height=this._getHeight();var t=this._box=new m("div","comercialbox-container");this.add(t),this._initHeader(),this._initGoods();var e=t.getElement();e.style.maxWidth=this._maxWidth,e.style.display="none"}},{key:"_getHeight",value:function(){if(-1!==this._config.areaOfParent.indexOf("%")){var t=this._containerHeight*this._containerWidth,e=this._containerWidth,n=this._maxWidth,o=n<e?n:e;return Math.floor(t*(parseInt(this._config.areaOfParent)/100)/o)}return parseInt(this._config.maxHeight)}},{key:"_initHeader",value:function(){var t=this,e=this._header=new L(this._config);this._box.add(e),e.getElement().addEventListener("click",(function(){t._isAllShow||t.onClick.dispatch()}))}},{key:"_initGoods",value:function(){var t=this._height-this._heightHeader,e=new X(this._config,t);this._box.add(e)}}])&&$(e.prototype,n),o&&$(e,o),r}(m),rt={TODOWN:{ENUM:1,world:"todown"},TOUP:{ENUM:2,world:"todup"}};function ct(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ut=window.CONFIG,at=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._container=null,this._box=null,this._button=null,this._comercial=null,this._durationTrans=200,this._typeLookBox=1,this._delayToShowBox=ut.delayToShowBox,this._boxIsShowed=!1,this._timersShowBox=[],this._typeHideBox=1,this._delayToHideBox=ut.delayToHideBox,this._timersHideBox=[],this._init(e)}var e,n,o;return e=t,(n=[{key:"_init",value:function(t){this._container=document.getElementById(t),this._container&&(this._container.style.position="relative",this._initCss())}},{key:"_initStructure",value:function(){this._initComercial(),this._initButton(),this._initBox(),this._initHandlers()}},{key:"_onClickButton",value:function(){this._showBox()}},{key:"_showBox",value:function(){var t=this;this._button.hide(),this._box.show(),this._boxIsShowed=!0;for(var e=0;e<this._timersShowBox.length;e++){var n=this._timersShowBox[e];n&&clearTimeout(n)}this._timersShowBox.length>0&&this._timersShowBox.splice(0,this._timersShowBox.length),setTimeout((function(){t._box.onClick.addOnce((function(){t._hideBox()})),t._setTimeoutHideBox()}),this._durationTrans)}},{key:"_hideBox",value:function(){var t=this;this._button.show(),this._box.hide();for(var e=0;e<this._timersHideBox.length;e++){var n=this._timersHideBox[e];n&&clearTimeout(n)}this._timersHideBox.length>0&&this._timersHideBox.splice(0,this._timersHideBox.length),setTimeout((function(){t._button.onClick.addOnce((function(){t._onClickButton()})),t._boxIsShowed=!1,t._setTimeoutShowBox()}),this._durationTrans)}},{key:"_showBoxOnTime",value:function(){this._boxIsShowed||this._button.dispatchClick()}},{key:"_setTimeoutShowBox",value:function(){var t=this;if(this._typeLookBox===st.ONTIME.ENUM){var e=setTimeout((function(){t._showBoxOnTime()}),this._delayToShowBox);this._timersShowBox.push(e)}}},{key:"_setTimeoutHideBox",value:function(){var t=this;if(this._typeHideBox===lt.ONTIME.ENUM){var e=setTimeout((function(){t._hideBoxOnTime()}),this._delayToHideBox);this._timersHideBox.push(e)}}},{key:"_hideBoxOnTime",value:function(){this._boxIsShowed&&this._box.dispatchClick()}},{key:"_initCss",value:function(){var t=this,e=new f(ut);e.setOnload((function(){t._initStructure()})),this._container.insertBefore(e.getElement(),this._container.firstChild)}},{key:"_initComercial",value:function(){var t=this._comercial=new m("div","comercialbox");this._container.appendChild(t.getElement())}},{key:"_initButton",value:function(){var t=this._button=new N(ut);this._container.appendChild(t.getElement())}},{key:"_initHandlers",value:function(){this._initShowBoxType(),this._initHideBoxType(),this._typeHideBox!==lt.OFSCREEN.ENUM&&this._typeLookBox!==st.ONSCREEN.ENUM||this._initScrollHandler()}},{key:"_initShowBoxType",value:function(){ut.lookBox===st.ALL.KEY?(this._typeLookBox=st.ALL.ENUM,this._box.setAllShow()):ut.lookBox===st.ONSCREEN.KEY?(this._typeLookBox=st.ONSCREEN.ENUM,this._initButtonHandler()):ut.lookBox===st.ONTIME.KEY?(this._typeLookBox=st.ONTIME.ENUM,this._initButtonHandler(),this._setTimeoutShowBox()):(this._typeLookBox=st.DEFAULT.ENUM,this._initButtonHandler())}},{key:"_initHideBoxType",value:function(){ut.typeHideBox===lt.OFSCREEN.KEY?this._typeHideBox=lt.OFSCREEN.ENUM:ut.typeHideBox===lt.ONTIME.KEY?this._typeHideBox=lt.ONTIME.ENUM:this._typeHideBox=lt.DEFAULT.ENUM}},{key:"_initButtonHandler",value:function(){var t=this;this._button.onClick.addOnce((function(){t._onClickButton()}))}},{key:"_initScrollHandler",value:function(){var t=this;document.addEventListener("scroll",(function(){t._typeLookBox===st.ONSCREEN.ENUM&&t._checkToSHowBox(),t._typeLookBox===st.ONSCREEN.ENUM&&t._checkToHideBox()}))}},{key:"_checkToSHowBox",value:function(){w.CheckPosition(this._container.getBoundingClientRect().y)&&this._button.dispatchClick()}},{key:"_checkToHideBox",value:function(){w.CheckPosition(this._container.getBoundingClientRect().y)||this._box.dispatchClick()}},{key:"_initBox",value:function(){var t=this._comercial,e=this._box=new it(ut,this._container.offsetWidth,this._container.offsetHeight);t.add(e)}}])&&ct(e.prototype,n),o&&ct(e,o),t}(),st={DEFAULT:{KEY:"default",ENUM:1},ALL:{KEY:"allShow",ENUM:2},ONSCREEN:{KEY:"showOnScreen",ENUM:3},ONTIME:{KEY:"showOnTime",ENUM:4}},lt={DEFAULT:{KEY:"default",ENUM:1},OFSCREEN:{KEY:"hideOfScreen",ENUM:2},ONTIME:{KEY:"hideOnTime",ENUM:3}};window.APPComercial=at}]);
//# sourceMappingURL=main.min.js.map